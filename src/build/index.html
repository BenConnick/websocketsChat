<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><link rel="manifest" href="/manifest.json"><link rel="shortcut icon" href="/favicon.ico"><title>React App</title><script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script><link href="/static/css/main.590b71ae.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><script>// -----------------------------------------
      //              WEBSOCKETS
      // -----------------------------------------
      let userName = "unknown";
      const connectSocket = (e) => {
        const message = document.querySelector("#message");
        const chat = document.querySelector("#chat");
        const socket = io.connect();
  
        socket.on('connect', () => {
          console.log('connecting');
  
          let user = document.querySelector("#username").value;
  
          if(!user) {
            user = 'unknown';
          }
  
          socket.emit('join', { name: user });
          userName = user;
  
          // remove button
          const connect = document.querySelector("#connect");
          connect.parentNode.removeChild(connect);
        });

        socket.on('msg', (data) => {
          console.log(data);
          chat.value = '' + chat.value + '\n' + data.name + ': ' + data.msg;
        });

        // send message from the input element called message
        const sendMsgFromInput = () => {
          // don't send emtpy message
          if (message.value == "") return;
          // send message with user name
          const response = {
          name: userName,
          msg: message.value,
        };
        socket.emit('msgToServer', response);
        message.value = "";
      }

        // hook up send button
        const send = document.querySelector("#send");
        send.addEventListener('click',sendMsgFromInput);

      // send with enter key
      window.addEventListener("keydown", (e) => {
        switch(e.keyCode) {
          case 13:
            sendMsgFromInput();
            break;
        }
      });
      };

      const init = () => {
        const connect = document.querySelector("#connect");
        connect.addEventListener('click',connectSocket);
      };

      window.onload = init;</script><script type="text/javascript" src="/static/js/main.aeab16c7.js"></script></body></html>